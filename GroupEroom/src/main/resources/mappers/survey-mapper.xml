<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="surveyMapper">
	<resultMap type="SurveyList" id="surveyResultMap">
		<id property="surveyNo" column="SURVEY_NO"></id>
		<result property="memberId" column="MEMBER_ID"></result>
		<result property="showName" column="SHOW_NAME"></result>
		<result property="showResult" column="SHOW_RESULT"></result>
		<result property="surveyTitle" column="SURVEY_TITLE"></result>
		<result property="surveyObject" column="SURVEY_OBJECT"></result>
		<result property="surveyQuestion" column="SURVEY_QUESTION"></result>
		<result property="surveyAnswers" column="SURVEY_ANSWERS"></result>
		<result property="target" column="TARGET"></result>
		<result property="startDate" column="START_DATE"></result>
		<result property="endDate" column="END_DATE"></result>
		<result property="writeDate" column="WRITE_DATE"></result>
		<result property="finished" column="FINISHED"></result>
		<result property="overlap" column="OVERLAP"></result>
	</resultMap>
	
	<insert id="insertSurveyList">
		INSERT INTO SURVEY_LIST VALUES(SURVEY_NO.NEXTVAL,#{memberId}, #{showName}, #{showResult}, #{surveyTitle}, #{surveyObject}, #{surveyQuestion}, #{surveyAnswers}, #{target}, #{startDate}, #{endDate}, SYSDATE, 'N', 'N')
	</insert>


	<select id="selectAllSurvey" resultMap="surveyResultMap">
		SELECT * FROM SURVEY_LIST WHERE TARGET = #{memberDept} OR TARGET = '전체' 
	</select>
	
	<select id="selectOneSurvey" resultMap="surveyResultMap">
		SELECT * FROM SURVEY_LIST WHERE SURVEY_NO = #{surveyNo}
	</select>
</mapper>
